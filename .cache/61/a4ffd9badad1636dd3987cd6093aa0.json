{"id":"epB2","dependencies":[{"name":"/Users/randomyang/play/darkmode-hook/package.json","includedInParent":true,"mtime":1577416648000}],"generated":{"js":"\"use strict\";function e(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function n(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var i={init:{width:\"100vw\",height:\"100vh\",backgroundColor:\"#fff\",position:\"fixed\",top:\"0\",left:\"0\",mixBlendMode:\"difference\",zIndex:\"10\",pointerEvents:\"none\",transition:\"visibility 300ms ease-in-out, opacity 300ms ease-in-out\"},normal:{visibility:\"hidden\",opacity:\"0\"},dark:{visibility:\"visible\",opacity:\"1\"}},o=function(){function t(){e(this,t),this.maskDOMNode=document.createElement(\"div\"),this.imgs=document.getElementsByTagName(\"img\"),this.maskDOMNodeID=\"\".concat(Math.floor(1e5*Math.random())),this.init()}return n(t,[{key:\"_installStyle\",value:function(e){for(var t in console.log(e),e)this.maskDOMNode.style[t]=e[t]}},{key:\"_invertImages\",value:function(){Array.prototype.forEach.call(this.imgs,function(e){return e.style.filter=\"invert(100%)\"!==e.style.filter?\"invert(100%)\":\"\"})}},{key:\"init\",value:function(){this.maskDOMNode.id=this.maskDOMNodeID,document.documentElement.style.background||(document.documentElement.style.background=\"#ffffff\"),document.body.style.background||(document.body.style.background=\"#ffffff\"),document.body.appendChild(this.maskDOMNode),this._installStyle(i.init),this._installStyle(i.normal)}},{key:\"turnOn\",value:function(){this._installStyle(i.dark),this._invertImages()}},{key:\"turnOff\",value:function(){this._installStyle(i.normal),this._invertImages()}},{key:\"destroy\",value:function(){var e=document.getElementById(this.maskDOMNodeID);e&&e.parentElement.removeChild(e)}}]),t}();exports.default=o,window&&(window.DarkmodeHook=o);"},"sourceMaps":{"js":{"mappings":[{"source":"main.js","original":{"line":84,"column":50},"generated":{"line":1,"column":0}},{"source":"main.js","original":{"line":84,"column":50},"generated":{"line":1,"column":13}},{"source":"main.js","original":{"line":84,"column":50},"generated":{"line":1,"column":22}},{"source":"main.js","original":{"line":84,"column":50},"generated":{"line":1,"column":24}},{"source":"main.js","original":{"line":84,"column":50},"generated":{"line":1,"column":26}},{"source":"main.js","original":{"line":84,"column":50},"generated":{"line":1,"column":29}},{"source":"main.js","original":{"line":84,"column":50},"generated":{"line":1,"column":34}},{"source":"main.js","original":{"line":84,"column":50},"generated":{"line":1,"column":47}},{"source":"main.js","original":{"line":84,"column":50},"generated":{"line":1,"column":50}},{"source":"main.js","original":{"line":84,"column":50},"generated":{"line":1,"column":56}},{"source":"main.js","original":{"line":84,"column":50},"generated":{"line":1,"column":60}},{"source":"main.js","original":{"line":84,"column":50},"generated":{"line":1,"column":70}},{"source":"main.js","original":{"line":84,"column":50},"generated":{"line":1,"column":107}},{"source":"main.js","original":{"line":84,"column":50},"generated":{"line":1,"column":116}},{"source":"main.js","original":{"line":84,"column":50},"generated":{"line":1,"column":118}},{"source":"main.js","original":{"line":84,"column":50},"generated":{"line":1,"column":120}},{"source":"main.js","original":{"line":84,"column":50},"generated":{"line":1,"column":123}},{"source":"main.js","original":{"line":84,"column":50},"generated":{"line":1,"column":127}},{"source":"main.js","original":{"line":84,"column":50},"generated":{"line":1,"column":131}},{"source":"main.js","original":{"line":84,"column":50},"generated":{"line":1,"column":133}},{"source":"main.js","original":{"line":84,"column":50},"generated":{"line":1,"column":135}},{"source":"main.js","original":{"line":84,"column":50},"generated":{"line":1,"column":137}},{"source":"main.js","original":{"line":84,"column":50},"generated":{"line":1,"column":139}},{"source":"main.js","original":{"line":84,"column":50},"generated":{"line":1,"column":146}},{"source":"main.js","original":{"line":84,"column":50},"generated":{"line":1,"column":150}},{"source":"main.js","original":{"line":84,"column":50},"generated":{"line":1,"column":151}},{"source":"main.js","original":{"line":84,"column":50},"generated":{"line":1,"column":155}},{"source":"main.js","original":{"line":84,"column":50},"generated":{"line":1,"column":157}},{"source":"main.js","original":{"line":84,"column":50},"generated":{"line":1,"column":159}},{"source":"main.js","original":{"line":84,"column":50},"generated":{"line":1,"column":162}},{"source":"main.js","original":{"line":84,"column":50},"generated":{"line":1,"column":164}},{"source":"main.js","original":{"line":84,"column":50},"generated":{"line":1,"column":175}},{"source":"main.js","original":{"line":84,"column":50},"generated":{"line":1,"column":177}},{"source":"main.js","original":{"line":84,"column":50},"generated":{"line":1,"column":190}},{"source":"main.js","original":{"line":84,"column":50},"generated":{"line":1,"column":192}},{"source":"main.js","original":{"line":84,"column":50},"generated":{"line":1,"column":194}},{"source":"main.js","original":{"line":84,"column":50},"generated":{"line":1,"column":208}},{"source":"main.js","original":{"line":84,"column":50},"generated":{"line":1,"column":210}},{"source":"main.js","original":{"line":84,"column":50},"generated":{"line":1,"column":220}},{"source":"main.js","original":{"line":84,"column":50},"generated":{"line":1,"column":224}},{"source":"main.js","original":{"line":84,"column":50},"generated":{"line":1,"column":226}},{"source":"main.js","original":{"line":84,"column":50},"generated":{"line":1,"column":236}},{"source":"main.js","original":{"line":84,"column":50},"generated":{"line":1,"column":239}},{"source":"main.js","original":{"line":84,"column":50},"generated":{"line":1,"column":246}},{"source":"main.js","original":{"line":84,"column":50},"generated":{"line":1,"column":261}},{"source":"main.js","original":{"line":84,"column":50},"generated":{"line":1,"column":263}},{"source":"main.js","original":{"line":84,"column":50},"generated":{"line":1,"column":265}},{"source":"main.js","original":{"line":84,"column":50},"generated":{"line":1,"column":269}},{"source":"main.js","original":{"line":84,"column":50},"generated":{"line":1,"column":273}},{"source":"main.js","original":{"line":84,"column":50},"generated":{"line":1,"column":282}},{"source":"main.js","original":{"line":84,"column":50},"generated":{"line":1,"column":284}},{"source":"main.js","original":{"line":84,"column":50},"generated":{"line":1,"column":286}},{"source":"main.js","original":{"line":84,"column":50},"generated":{"line":1,"column":288}},{"source":"main.js","original":{"line":84,"column":50},"generated":{"line":1,"column":291}},{"source":"main.js","original":{"line":84,"column":50},"generated":{"line":1,"column":298}},{"source":"main.js","original":{"line":84,"column":50},"generated":{"line":1,"column":301}},{"source":"main.js","original":{"line":84,"column":50},"generated":{"line":1,"column":303}},{"source":"main.js","original":{"line":84,"column":50},"generated":{"line":1,"column":305}},{"source":"main.js","original":{"line":84,"column":50},"generated":{"line":1,"column":315}},{"source":"main.js","original":{"line":84,"column":50},"generated":{"line":1,"column":318}},{"source":"main.js","original":{"line":84,"column":50},"generated":{"line":1,"column":321}},{"source":"main.js","original":{"line":84,"column":50},"generated":{"line":1,"column":323}},{"source":"main.js","original":{"line":84,"column":50},"generated":{"line":1,"column":325}},{"source":"main.js","original":{"line":84,"column":50},"generated":{"line":1,"column":328}},{"source":"main.js","original":{"line":84,"column":50},"generated":{"line":1,"column":330}},{"source":"main.js","original":{"line":84,"column":50},"generated":{"line":1,"column":337}},{"source":"main.js","original":{"line":84,"column":50},"generated":{"line":1,"column":352}},{"source":"main.js","original":{"line":84,"column":50},"generated":{"line":1,"column":360}},{"source":"main.js","original":{"line":84,"column":50},"generated":{"line":1,"column":373}},{"source":"main.js","original":{"line":84,"column":50},"generated":{"line":1,"column":374}},{"source":"main.js","original":{"line":84,"column":50},"generated":{"line":1,"column":381}},{"source":"main.js","original":{"line":84,"column":50},"generated":{"line":1,"column":385}},{"source":"main.js","original":{"line":84,"column":50},"generated":{"line":1,"column":393}},{"source":"main.js","original":{"line":84,"column":50},"generated":{"line":1,"column":406}},{"source":"main.js","original":{"line":1,"column":0},"generated":{"line":1,"column":408}},{"source":"main.js","name":"styles","original":{"line":1,"column":6},"generated":{"line":1,"column":412}},{"source":"main.js","original":{"line":1,"column":15},"generated":{"line":1,"column":414}},{"source":"main.js","name":"init","original":{"line":2,"column":2},"generated":{"line":1,"column":415}},{"source":"main.js","original":{"line":2,"column":8},"generated":{"line":1,"column":420}},{"source":"main.js","name":"width","original":{"line":3,"column":4},"generated":{"line":1,"column":421}},{"source":"main.js","original":{"line":3,"column":11},"generated":{"line":1,"column":427}},{"source":"main.js","name":"height","original":{"line":4,"column":4},"generated":{"line":1,"column":435}},{"source":"main.js","original":{"line":4,"column":12},"generated":{"line":1,"column":442}},{"source":"main.js","name":"backgroundColor","original":{"line":5,"column":4},"generated":{"line":1,"column":450}},{"source":"main.js","original":{"line":5,"column":21},"generated":{"line":1,"column":466}},{"source":"main.js","name":"position","original":{"line":6,"column":4},"generated":{"line":1,"column":473}},{"source":"main.js","original":{"line":6,"column":14},"generated":{"line":1,"column":482}},{"source":"main.js","name":"top","original":{"line":7,"column":4},"generated":{"line":1,"column":490}},{"source":"main.js","original":{"line":7,"column":9},"generated":{"line":1,"column":494}},{"source":"main.js","name":"left","original":{"line":8,"column":4},"generated":{"line":1,"column":498}},{"source":"main.js","original":{"line":8,"column":10},"generated":{"line":1,"column":503}},{"source":"main.js","name":"mixBlendMode","original":{"line":9,"column":4},"generated":{"line":1,"column":507}},{"source":"main.js","original":{"line":9,"column":18},"generated":{"line":1,"column":520}},{"source":"main.js","name":"zIndex","original":{"line":10,"column":4},"generated":{"line":1,"column":533}},{"source":"main.js","original":{"line":10,"column":12},"generated":{"line":1,"column":540}},{"source":"main.js","name":"pointerEvents","original":{"line":11,"column":4},"generated":{"line":1,"column":545}},{"source":"main.js","original":{"line":11,"column":19},"generated":{"line":1,"column":559}},{"source":"main.js","name":"transition","original":{"line":12,"column":4},"generated":{"line":1,"column":566}},{"source":"main.js","original":{"line":12,"column":16},"generated":{"line":1,"column":577}},{"source":"main.js","name":"normal","original":{"line":14,"column":2},"generated":{"line":1,"column":636}},{"source":"main.js","original":{"line":14,"column":10},"generated":{"line":1,"column":643}},{"source":"main.js","name":"visibility","original":{"line":15,"column":4},"generated":{"line":1,"column":644}},{"source":"main.js","original":{"line":15,"column":16},"generated":{"line":1,"column":655}},{"source":"main.js","name":"opacity","original":{"line":16,"column":4},"generated":{"line":1,"column":664}},{"source":"main.js","original":{"line":16,"column":13},"generated":{"line":1,"column":672}},{"source":"main.js","name":"dark","original":{"line":18,"column":2},"generated":{"line":1,"column":677}},{"source":"main.js","original":{"line":18,"column":8},"generated":{"line":1,"column":682}},{"source":"main.js","name":"visibility","original":{"line":19,"column":4},"generated":{"line":1,"column":683}},{"source":"main.js","original":{"line":19,"column":16},"generated":{"line":1,"column":694}},{"source":"main.js","name":"opacity","original":{"line":20,"column":4},"generated":{"line":1,"column":704}},{"source":"main.js","original":{"line":20,"column":13},"generated":{"line":1,"column":712}},{"source":"main.js","name":"DarkmodeHook","original":{"line":24,"column":21},"generated":{"line":1,"column":718}},{"source":"main.js","original":{"line":84,"column":50},"generated":{"line":1,"column":720}},{"source":"main.js","original":{"line":25,"column":16},"generated":{"line":1,"column":731}},{"source":"main.js","original":{"line":25,"column":16},"generated":{"line":1,"column":740}},{"source":"main.js","original":{"line":25,"column":16},"generated":{"line":1,"column":744}},{"source":"main.js","original":{"line":25,"column":16},"generated":{"line":1,"column":746}},{"source":"main.js","original":{"line":25,"column":16},"generated":{"line":1,"column":751}},{"source":"main.js","name":"maskDOMNode","original":{"line":26,"column":9},"generated":{"line":1,"column":754}},{"source":"main.js","name":"maskDOMNode","original":{"line":26,"column":9},"generated":{"line":1,"column":759}},{"source":"main.js","name":"document","original":{"line":26,"column":23},"generated":{"line":1,"column":771}},{"source":"main.js","name":"createElement","original":{"line":26,"column":32},"generated":{"line":1,"column":780}},{"source":"main.js","original":{"line":26,"column":46},"generated":{"line":1,"column":794}},{"source":"main.js","name":"imgs","original":{"line":27,"column":9},"generated":{"line":1,"column":801}},{"source":"main.js","name":"imgs","original":{"line":27,"column":9},"generated":{"line":1,"column":806}},{"source":"main.js","name":"document","original":{"line":27,"column":16},"generated":{"line":1,"column":811}},{"source":"main.js","name":"getElementsByTagName","original":{"line":27,"column":25},"generated":{"line":1,"column":820}},{"source":"main.js","original":{"line":27,"column":46},"generated":{"line":1,"column":841}},{"source":"main.js","name":"maskDOMNodeID","original":{"line":28,"column":9},"generated":{"line":1,"column":848}},{"source":"main.js","name":"maskDOMNodeID","original":{"line":28,"column":9},"generated":{"line":1,"column":853}},{"source":"main.js","name":"Math","original":{"line":28,"column":28},"generated":{"line":1,"column":867}},{"source":"main.js","name":"Math","original":{"line":28,"column":28},"generated":{"line":1,"column":870}},{"source":"main.js","name":"Math","original":{"line":28,"column":28},"generated":{"line":1,"column":877}},{"source":"main.js","name":"floor","original":{"line":28,"column":33},"generated":{"line":1,"column":882}},{"source":"main.js","original":{"line":28,"column":55},"generated":{"line":1,"column":888}},{"source":"main.js","name":"Math","original":{"line":28,"column":39},"generated":{"line":1,"column":892}},{"source":"main.js","name":"random","original":{"line":28,"column":44},"generated":{"line":1,"column":897}},{"source":"main.js","name":"init","original":{"line":29,"column":9},"generated":{"line":1,"column":908}},{"source":"main.js","name":"init","original":{"line":29,"column":9},"generated":{"line":1,"column":913}},{"source":"main.js","original":{"line":84,"column":50},"generated":{"line":1,"column":920}},{"source":"main.js","original":{"line":84,"column":50},"generated":{"line":1,"column":927}},{"source":"main.js","original":{"line":84,"column":50},"generated":{"line":1,"column":929}},{"source":"main.js","original":{"line":84,"column":50},"generated":{"line":1,"column":931}},{"source":"main.js","original":{"line":84,"column":50},"generated":{"line":1,"column":932}},{"source":"main.js","original":{"line":84,"column":50},"generated":{"line":1,"column":933}},{"source":"main.js","original":{"line":84,"column":50},"generated":{"line":1,"column":937}},{"source":"main.js","name":"styles","original":{"line":31,"column":16},"generated":{"line":1,"column":953}},{"source":"main.js","name":"styles","original":{"line":31,"column":16},"generated":{"line":1,"column":959}},{"source":"main.js","name":"styles","original":{"line":31,"column":16},"generated":{"line":1,"column":968}},{"source":"main.js","original":{"line":33,"column":9},"generated":{"line":1,"column":971}},{"source":"main.js","original":{"line":33,"column":9},"generated":{"line":1,"column":975}},{"source":"main.js","name":"key","original":{"line":33,"column":13},"generated":{"line":1,"column":979}},{"source":"main.js","name":"console","original":{"line":32,"column":4},"generated":{"line":1,"column":984}},{"source":"main.js","name":"log","original":{"line":32,"column":12},"generated":{"line":1,"column":992}},{"source":"main.js","name":"styles","original":{"line":32,"column":16},"generated":{"line":1,"column":996}},{"source":"main.js","name":"styles","original":{"line":33,"column":20},"generated":{"line":1,"column":999}},{"source":"main.js","name":"maskDOMNode","original":{"line":34,"column":11},"generated":{"line":1,"column":1001}},{"source":"main.js","name":"maskDOMNode","original":{"line":34,"column":11},"generated":{"line":1,"column":1006}},{"source":"main.js","name":"style","original":{"line":34,"column":23},"generated":{"line":1,"column":1018}},{"source":"main.js","name":"key","original":{"line":34,"column":29},"generated":{"line":1,"column":1024}},{"source":"main.js","name":"styles","original":{"line":34,"column":36},"generated":{"line":1,"column":1027}},{"source":"main.js","name":"key","original":{"line":34,"column":43},"generated":{"line":1,"column":1029}},{"source":"main.js","original":{"line":84,"column":50},"generated":{"line":1,"column":1034}},{"source":"main.js","original":{"line":84,"column":50},"generated":{"line":1,"column":1035}},{"source":"main.js","original":{"line":84,"column":50},"generated":{"line":1,"column":1039}},{"source":"main.js","original":{"line":38,"column":18},"generated":{"line":1,"column":1055}},{"source":"main.js","original":{"line":38,"column":18},"generated":{"line":1,"column":1061}},{"source":"main.js","name":"Array","original":{"line":40,"column":4},"generated":{"line":1,"column":1072}},{"source":"main.js","name":"prototype","original":{"line":40,"column":10},"generated":{"line":1,"column":1078}},{"source":"main.js","name":"forEach","original":{"line":40,"column":20},"generated":{"line":1,"column":1088}},{"source":"main.js","name":"call","original":{"line":40,"column":28},"generated":{"line":1,"column":1096}},{"source":"main.js","original":{"line":40,"column":33},"generated":{"line":1,"column":1101}},{"source":"main.js","name":"imgs","original":{"line":40,"column":38},"generated":{"line":1,"column":1106}},{"source":"main.js","original":{"line":39,"column":22},"generated":{"line":1,"column":1111}},{"source":"main.js","name":"img","original":{"line":39,"column":22},"generated":{"line":1,"column":1120}},{"source":"main.js","name":"img","original":{"line":39,"column":29},"generated":{"line":1,"column":1123}},{"source":"main.js","name":"img","original":{"line":39,"column":29},"generated":{"line":1,"column":1130}},{"source":"main.js","name":"style","original":{"line":39,"column":33},"generated":{"line":1,"column":1132}},{"source":"main.js","name":"filter","original":{"line":39,"column":39},"generated":{"line":1,"column":1138}},{"source":"main.js","original":{"line":39,"column":69},"generated":{"line":1,"column":1145}},{"source":"main.js","name":"img","original":{"line":39,"column":48},"generated":{"line":1,"column":1162}},{"source":"main.js","name":"style","original":{"line":39,"column":52},"generated":{"line":1,"column":1164}},{"source":"main.js","name":"filter","original":{"line":39,"column":58},"generated":{"line":1,"column":1170}},{"source":"main.js","original":{"line":39,"column":86},"generated":{"line":1,"column":1177}},{"source":"main.js","original":{"line":39,"column":103},"generated":{"line":1,"column":1192}},{"source":"main.js","original":{"line":84,"column":50},"generated":{"line":1,"column":1199}},{"source":"main.js","original":{"line":84,"column":50},"generated":{"line":1,"column":1200}},{"source":"main.js","original":{"line":84,"column":50},"generated":{"line":1,"column":1204}},{"source":"main.js","original":{"line":43,"column":9},"generated":{"line":1,"column":1211}},{"source":"main.js","original":{"line":43,"column":9},"generated":{"line":1,"column":1217}},{"source":"main.js","name":"maskDOMNode","original":{"line":45,"column":9},"generated":{"line":1,"column":1228}},{"source":"main.js","name":"maskDOMNode","original":{"line":45,"column":9},"generated":{"line":1,"column":1233}},{"source":"main.js","name":"id","original":{"line":45,"column":21},"generated":{"line":1,"column":1245}},{"source":"main.js","original":{"line":45,"column":26},"generated":{"line":1,"column":1248}},{"source":"main.js","name":"maskDOMNodeID","original":{"line":45,"column":31},"generated":{"line":1,"column":1253}},{"source":"main.js","name":"document","original":{"line":48,"column":9},"generated":{"line":1,"column":1267}},{"source":"main.js","name":"documentElement","original":{"line":48,"column":18},"generated":{"line":1,"column":1276}},{"source":"main.js","name":"style","original":{"line":48,"column":34},"generated":{"line":1,"column":1292}},{"source":"main.js","name":"background","original":{"line":48,"column":40},"generated":{"line":1,"column":1298}},{"source":"main.js","name":"document","original":{"line":49,"column":6},"generated":{"line":1,"column":1311}},{"source":"main.js","name":"documentElement","original":{"line":49,"column":15},"generated":{"line":1,"column":1320}},{"source":"main.js","name":"style","original":{"line":49,"column":31},"generated":{"line":1,"column":1336}},{"source":"main.js","name":"background","original":{"line":49,"column":37},"generated":{"line":1,"column":1342}},{"source":"main.js","original":{"line":49,"column":50},"generated":{"line":1,"column":1353}},{"source":"main.js","name":"document","original":{"line":51,"column":9},"generated":{"line":1,"column":1364}},{"source":"main.js","name":"body","original":{"line":51,"column":18},"generated":{"line":1,"column":1373}},{"source":"main.js","name":"style","original":{"line":51,"column":23},"generated":{"line":1,"column":1378}},{"source":"main.js","name":"background","original":{"line":51,"column":29},"generated":{"line":1,"column":1384}},{"source":"main.js","name":"document","original":{"line":52,"column":6},"generated":{"line":1,"column":1397}},{"source":"main.js","name":"body","original":{"line":52,"column":15},"generated":{"line":1,"column":1406}},{"source":"main.js","name":"style","original":{"line":52,"column":20},"generated":{"line":1,"column":1411}},{"source":"main.js","name":"background","original":{"line":52,"column":26},"generated":{"line":1,"column":1417}},{"source":"main.js","original":{"line":52,"column":39},"generated":{"line":1,"column":1428}},{"source":"main.js","name":"document","original":{"line":56,"column":4},"generated":{"line":1,"column":1439}},{"source":"main.js","name":"body","original":{"line":56,"column":13},"generated":{"line":1,"column":1448}},{"source":"main.js","name":"appendChild","original":{"line":56,"column":18},"generated":{"line":1,"column":1453}},{"source":"main.js","original":{"line":56,"column":30},"generated":{"line":1,"column":1465}},{"source":"main.js","name":"maskDOMNode","original":{"line":56,"column":35},"generated":{"line":1,"column":1470}},{"source":"main.js","name":"_installStyle","original":{"line":59,"column":9},"generated":{"line":1,"column":1483}},{"source":"main.js","name":"_installStyle","original":{"line":59,"column":9},"generated":{"line":1,"column":1488}},{"source":"main.js","name":"styles","original":{"line":59,"column":23},"generated":{"line":1,"column":1502}},{"source":"main.js","name":"init","original":{"line":59,"column":30},"generated":{"line":1,"column":1504}},{"source":"main.js","name":"_installStyle","original":{"line":60,"column":9},"generated":{"line":1,"column":1510}},{"source":"main.js","name":"_installStyle","original":{"line":60,"column":9},"generated":{"line":1,"column":1515}},{"source":"main.js","name":"styles","original":{"line":60,"column":23},"generated":{"line":1,"column":1529}},{"source":"main.js","name":"normal","original":{"line":60,"column":30},"generated":{"line":1,"column":1531}},{"source":"main.js","original":{"line":84,"column":50},"generated":{"line":1,"column":1541}},{"source":"main.js","original":{"line":84,"column":50},"generated":{"line":1,"column":1542}},{"source":"main.js","original":{"line":84,"column":50},"generated":{"line":1,"column":1546}},{"source":"main.js","original":{"line":63,"column":11},"generated":{"line":1,"column":1555}},{"source":"main.js","original":{"line":63,"column":11},"generated":{"line":1,"column":1561}},{"source":"main.js","name":"_installStyle","original":{"line":64,"column":9},"generated":{"line":1,"column":1572}},{"source":"main.js","name":"_installStyle","original":{"line":64,"column":9},"generated":{"line":1,"column":1577}},{"source":"main.js","name":"styles","original":{"line":64,"column":23},"generated":{"line":1,"column":1591}},{"source":"main.js","name":"dark","original":{"line":64,"column":30},"generated":{"line":1,"column":1593}},{"source":"main.js","name":"_invertImages","original":{"line":67,"column":9},"generated":{"line":1,"column":1599}},{"source":"main.js","name":"_invertImages","original":{"line":67,"column":9},"generated":{"line":1,"column":1604}},{"source":"main.js","original":{"line":84,"column":50},"generated":{"line":1,"column":1622}},{"source":"main.js","original":{"line":84,"column":50},"generated":{"line":1,"column":1623}},{"source":"main.js","original":{"line":84,"column":50},"generated":{"line":1,"column":1627}},{"source":"main.js","original":{"line":70,"column":12},"generated":{"line":1,"column":1637}},{"source":"main.js","original":{"line":70,"column":12},"generated":{"line":1,"column":1643}},{"source":"main.js","name":"_installStyle","original":{"line":71,"column":9},"generated":{"line":1,"column":1654}},{"source":"main.js","name":"_installStyle","original":{"line":71,"column":9},"generated":{"line":1,"column":1659}},{"source":"main.js","name":"styles","original":{"line":71,"column":23},"generated":{"line":1,"column":1673}},{"source":"main.js","name":"normal","original":{"line":71,"column":30},"generated":{"line":1,"column":1675}},{"source":"main.js","name":"_invertImages","original":{"line":72,"column":9},"generated":{"line":1,"column":1683}},{"source":"main.js","name":"_invertImages","original":{"line":72,"column":9},"generated":{"line":1,"column":1688}},{"source":"main.js","original":{"line":84,"column":50},"generated":{"line":1,"column":1706}},{"source":"main.js","original":{"line":84,"column":50},"generated":{"line":1,"column":1707}},{"source":"main.js","original":{"line":84,"column":50},"generated":{"line":1,"column":1711}},{"source":"main.js","original":{"line":75,"column":12},"generated":{"line":1,"column":1721}},{"source":"main.js","original":{"line":75,"column":12},"generated":{"line":1,"column":1727}},{"source":"main.js","name":"mask","original":{"line":76,"column":10},"generated":{"line":1,"column":1738}},{"source":"main.js","name":"mask","original":{"line":76,"column":10},"generated":{"line":1,"column":1742}},{"source":"main.js","name":"document","original":{"line":76,"column":17},"generated":{"line":1,"column":1744}},{"source":"main.js","name":"getElementById","original":{"line":76,"column":26},"generated":{"line":1,"column":1753}},{"source":"main.js","original":{"line":76,"column":41},"generated":{"line":1,"column":1768}},{"source":"main.js","name":"maskDOMNodeID","original":{"line":76,"column":46},"generated":{"line":1,"column":1773}},{"source":"main.js","name":"mask","original":{"line":77,"column":8},"generated":{"line":1,"column":1788}},{"source":"main.js","name":"mask","original":{"line":78,"column":21},"generated":{"line":1,"column":1791}},{"source":"main.js","name":"parentElement","original":{"line":78,"column":26},"generated":{"line":1,"column":1793}},{"source":"main.js","name":"removeChild","original":{"line":79,"column":13},"generated":{"line":1,"column":1807}},{"source":"main.js","name":"mask","original":{"line":79,"column":25},"generated":{"line":1,"column":1819}},{"source":"main.js","original":{"line":84,"column":50},"generated":{"line":1,"column":1826}},{"source":"main.js","original":{"line":84,"column":50},"generated":{"line":1,"column":1828}},{"source":"main.js","original":{"line":84,"column":50},"generated":{"line":1,"column":1831}},{"source":"main.js","original":{"line":84,"column":50},"generated":{"line":1,"column":1839}},{"source":"main.js","original":{"line":84,"column":50},"generated":{"line":1,"column":1847}},{"source":"main.js","name":"window","original":{"line":84,"column":0},"generated":{"line":1,"column":1849}},{"source":"main.js","name":"window","original":{"line":84,"column":11},"generated":{"line":1,"column":1858}},{"source":"main.js","original":{"line":84,"column":17},"generated":{"line":1,"column":1865}},{"source":"main.js","name":"DarkmodeHook","original":{"line":84,"column":36},"generated":{"line":1,"column":1878}}],"sources":{"main.js":"const styles = {\n  init: {\n    width: '100vw',\n    height: '100vh',\n    backgroundColor: '#fff',\n    position: 'fixed',\n    top: '0',\n    left: '0',\n    mixBlendMode: 'difference',\n    zIndex: '10',\n    pointerEvents: 'none',\n    transition: 'visibility 300ms ease-in-out, opacity 300ms ease-in-out',\n  },\n  normal: {\n    visibility: \"hidden\",\n    opacity: '0'\n  },\n  dark: {\n    visibility: \"visible\",\n    opacity: '1'\n  },\n}\n\nexport default class DarkmodeHook {\n  constructor() {\n    this.maskDOMNode = document.createElement('div') // mask遮罩\n    this.imgs = document.getElementsByTagName('img') // 整个页面的图片\n    this.maskDOMNodeID = `${Math.floor(Math.random() * 100000)}` // 随机生成的 mask id\n    this.init()\n  }\n  _installStyle(styles) {\n    console.log(styles)\n    for (let key in styles) {\n      this.maskDOMNode.style[key] = styles[key]\n    }\n  }\n\n  _invertImages() {\n    const invertImg = img => img.style.filter = img.style.filter !== \"invert(100%)\" ? \"invert(100%)\" : \"\"\n    Array.prototype.forEach.call(this.imgs, invertImg)\n  }\n  \n  init() {\n    // 设置遮罩的 id\n    this.maskDOMNode.id = this.maskDOMNodeID\n\n    // fix chrome bug\n    if (!document.documentElement.style.background) {\n      document.documentElement.style.background = '#ffffff'\n    }\n    if (!document.body.style.background) {\n      document.body.style.background = '#ffffff'\n    }\n\n    // mask 插入 body\n    document.body.appendChild(this.maskDOMNode)\n\n    // mask 样式初始化\n    this._installStyle(styles.init)\n    this._installStyle(styles.normal)\n  }\n\n  turnOn() {\n    this._installStyle(styles.dark)\n    // invert the images color\n    // so that they can render with the right color\n    this._invertImages()\n  }\n\n  turnOff() {\n    this._installStyle(styles.normal)\n    this._invertImages()\n  }\n\n  destroy() {\n    const mask = document.getElementById(this.maskDOMNodeID)\n    if (mask) {\n      const parent = mask.parentElement\n      parent.removeChild(mask)\n    }\n  }\n}\n\nwindow && (window['DarkmodeHook'] = DarkmodeHook) // mount on the global"},"lineCount":null}},"error":null,"hash":"86d6ba49e5fc7738bcae04e892711adf","cacheData":{"env":{}}}